%% import packages to avoid too many imports on main file
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\RestyleAlgo{algoruled}    
\DontPrintSemicolon       
% \SetAlgoVlined
% \SetAlgoNlRelativeSize{-1}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{algorithmicx}
\usepackage[linesnumbered,ruled,vlined]{algorithm2e}
\usepackage{enumerate}
\usepackage{enumitem}
\usepackage{etoolbox}
\usepackage{float}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{ifthen}
\usepackage[edges]{forest}
\usepackage{lipsum}
\usepackage{mdframed}
\usepackage{tcolorbox}
\usepackage{xcolor}
% \usepackage[sfdefault]{plex-sans}
\usepackage{tikz}
\tcbuselibrary{listings, breakable, skins}
\usepackage{float}
\usepackage{enumitem}
\usetikzlibrary{positioning}
\setlistdepth{100}
\newcommand{\R}{\ensuremath{\mathbb{R}}}
\newcommand{\N}{\ensuremath{\mathbb{N}\hspace{1.0mm}}}
\newcommand{\Z}{\ensuremath{\mathbb{Z}}}
\newcommand{\Q}{\ensuremath{\mathbb{Q}}}
\newcommand{\C}{\ensuremath{\mathbb{C}}}
% formatting
\newcommand{\hs}{\hspace{1.0mm}} % horizontal space; mostly in equations
% \renewcommand{\thealgorithm}{}  % removes numbering from algorithm annotation
\makeatletter
\def\exam@MakeFramed#1{\begin{mdframed}}
\def\endexam@MakeFramed{\end{mdframed}}
\makeatother


\newtcolorbox{customsolutionbox}[1][]{
    colback=white,
    colframe=gray!50!black,
    sharp corners=southwest,
    rounded corners=southeast,
    title=Answer,
    breakable,
    #1 % answer
}

% \newcommand{\customequation}[1]{
%     \vspace{5.0mm}
%     \begin{center}
%         \begin{align*}
%             #1
%         \end{align*}
%     \end{center}
%     % \vspace{5.0mm}
% }

%% credit statement
\newcommand{\creditstatement}[1][alone]{
    % \ifthenelse{\equal{#1}{alone}}{
    \begin{center}
        {\fontsize{14}{16}\selectfont \textbf{\textit{Credit statement: I worked alone on this assignment with reference to: #1} \\}}
    \end{center}
    % }{
    % \begin{center}
    %     {\fontsize{14}{16}\selectfont\textbf{\textit{Credit statement: I discussed the problems with #1, but worked alone on my solutions} \\}}
    % \end{center}
    % }
}

%% heading
\newcommand{\customheading}[5]{ % #1=Date, #2=Title
    \fbox{%
        \begin{minipage}{\textwidth}
        \begin{tikzpicture}[overlay, remember picture]
            \node[anchor=north west, font=\bfseries\itshape] at (0,0) {#1};
            \node[anchor=north east, font=\bfseries] at (\textwidth,0) {#2};
            \node[anchor=north, font=\Large\bfseries\itshape] at (\textwidth/2,-1.1) {#3};
            \node[anchor=south west, font=\itshape] at (0,-3) {#4};
            \node[anchor=south east, font=\itshape] at (\textwidth,-3) {#5};
        \end{tikzpicture}
        \vspace{3cm}
        \end{minipage}%
    }
}

\newcommand{\customfigure}[3]{
    \begin{figure}[H]
        \centering
        \includegraphics[width=25mm]{#1}
        \caption{#2}
        \label{fig:#3}
    \end{figure}
}

\newtcolorbox{algobox}[1][]{
  colback=white, % light green background
  colframe=black,   % border color
  arc=2mm,
  boxrule=0.5pt,
  fonttitle=\bfseries,
  title=#1,
  enhanced,
  sharp corners,
  left=1mm, right=1mm, top=1mm, bottom=1mm
}

%% definitions
\newtheorem{theorem}{Theorem}
\newtheorem*{definition}{Definition}

\usepackage{algorithm}
\usepackage{algpseudocode}

% Trick to suppress EndFor and EndFunction output (cleanest and safest)
\makeatletter
\newcommand{\hideendkeywords}{
  \renewcommand{\alglinenumber}[1]{\scriptsize##1}
  \renewcommand{\ALG@beginalgorithmic}{\begin{algorithmic}[1]}
  \renewcommand{\ALG@endalgorithmic}{\end{algorithmic}}
  \algrenewcommand{\alglinenumber}[1]{\scriptsize##1}
  \renewcommand{\algorithmicend}{}
}
\makeatother

\hideendkeywords % apply hiding


% code listing 
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}